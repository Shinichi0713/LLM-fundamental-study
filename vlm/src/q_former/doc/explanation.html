<!DOCTYPE html><html><head>
      <title>explanation</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\yoshinaga\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.20\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
nav {
    background-color: #f8f9fa;
    border: 1px solid #e1e4e8;
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0 40px 0;
    max-width: 600px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

/* ã€Œç›®æ¬¡ã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ« */
nav h3 {
    margin-top: 0;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid #0969da;
    color: #24292f;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
}

/* ã‚¿ã‚¤ãƒˆãƒ«ã®å‰ã«ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ï¼‰ã‚’è¿½åŠ  */
nav h3::before {
    content: "ğŸ“–";
    margin-right: 8px;
}

/* ãƒªã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
#toc {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

#toc li {
    margin-bottom: 8px;
    line-height: 1.4;
}

/* ãƒªãƒ³ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
#toc a {
    color: #0969da;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s ease;
    display: inline-block;
}

#toc a:hover {
    color: #cf222e;
    transform: translateX(5px); /* ãƒ›ãƒãƒ¼æ™‚ã«å°‘ã—å³ã«å‹•ã */
}

/* h3ï¼ˆå°è¦‹å‡ºã—ï¼‰ãŒã‚ã‚‹å ´åˆã®ãƒã‚¹ãƒˆè¡¨ç¾ï¼ˆJSã®ä¿®æ­£ã‚‚å¿…è¦ï¼‰ */
.toc-h3 {
    padding-left: 20px;
    font-size: 0.9em;
    opacity: 0.8;
}


/* è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ« (h1) */
h1 {
    font-size: 2rem;
    color: #24292f;
    line-height: 1.3;
    padding: 20px 0;
    margin-bottom: 30px;
    border-bottom: 3px double #e1e4e8; /* äºŒé‡ç·šã§ä¸Šå“ã« */
    text-align: center; /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä¸­å¤®ã«å¯„ã›ã¦ç‰¹åˆ¥æ„Ÿã‚’å‡ºã™ */
}

/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦‹å‡ºã— (h2) */
h2 {
    font-size: 1.5rem;
    color: #24292f;
    padding: 0.5rem 1rem;
    margin: 40px 0 20px 0;
    background: linear-gradient(transparent 70%, #e8f0fe 70%); /* ä¸‹å´ã«è–„ã„è‰²ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
    border-left: 6px solid #0969da; /* ç›®æ¬¡ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã¨åˆã‚ã›ã‚‹ */
    border-radius: 2px;
    display: flex;
    align-items: center;
}

/* å¼·èª¿æ–‡å­— (strong) */
strong {
    font-weight: bold;
    color: #cf222e; /* ãƒ›ãƒãƒ¼æ™‚ã®èµ¤è‰²ã¨åˆã‚ã›ã¦çµ±ä¸€æ„Ÿã‚’å‡ºã™ */
    background: linear-gradient(transparent 60%, #fff2cc 60%); /* é»„è‰²ã®ãƒãƒ¼ã‚«ãƒ¼é¢¨ */
    padding: 0 2px;
}

/* å¼•ç”¨ã®ã‚³ãƒ³ãƒ†ãƒŠ */
blockquote {
    position: relative;
    padding: 20px 30px;
    margin: 30px 0;
    background-color: #f6f8fa; /* ç›®æ¬¡ã®èƒŒæ™¯ã‚ˆã‚Šå°‘ã—ã ã‘æ¿ƒã„ã‚°ãƒ¬ãƒ¼ */
    border-left: 5px solid #d0d7de; /* è½ã¡ç€ã„ãŸã‚°ãƒ¬ãƒ¼ã®å¢ƒç•Œç·š */
    color: #57606a; /* æ–‡å­—è‰²ã¯å°‘ã—è–„ãã—ã¦å¼•ç”¨ã‚‰ã—ã•ã‚’å‡ºã™ */
    font-style: italic;
    border-radius: 0 8px 8px 0;
}

/* å¼•ç”¨ç¬¦ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è£…é£¾ã¨ã—ã¦è¿½åŠ  */
blockquote::before {
    content: "â€œ";
    position: absolute;
    top: -5px;
    left: 10px;
    font-size: 40px;
    color: #d0d7de;
    font-family: serif;
    line-height: 1;
}

/* èª­è€…ã«ãªã‚‹ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
.btn-subscribe {
    display: inline-block;
    padding: 12px 35px; /* æ¨ªå¹…ã‚’åºƒã‚ã«ã¨ã£ã¦å­˜åœ¨æ„Ÿã‚’å‡ºã—ã¾ã™ */
    background-color: #383838; /* ãŠå¥½ã¿ã®è‰²ã«å¤‰æ›´ã—ã¦ãã ã•ã„ */
    color: #ffffff !important;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    transition: 0.3s;
}

.btn-subscribe:hover {
    background-color: #555555;
    text-decoration: none;
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
<nav>
        <h3>ç›®æ¬¡</h3>
        <ul id="toc"></ul> 
</nav>
      <div class="crossnote markdown-preview  ">
      
<p>1/3ã«VLMã®æ‰‹æ³•ã§Blip-2ã«æ¡ç”¨ã•ã‚Œã¦ã„ã‚‹æ‰‹æ³• <a href="https://yoshishinnze.hatenablog.com/entry/2026/01/03/100210"><strong>Q-Former</strong></a> ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚<br>
Q-FormerãŒVLMã¨ã—ã¦ã€ç”»åƒã®æƒ…å ±ã‚’ä¸Šæ‰‹ã«æŠ½å‡ºã§ãã‚‹ç†ç”±ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ã‚ã¦ã¦èª¬æ˜ã—ã¾ã—ãŸã€‚<br>
ã§ã™ãŒã€ãã®éš›ã¯å†…éƒ¨æ§‹é€ ã®å®Ÿè£…æ³•ã«ã¯è§¦ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚</p>
<p>ä»Šå›ã¯æ”¹ã‚ã¦å†…éƒ¨æ§‹é€ ã®å®Ÿè£…æ³•ã«ã¤ã„ã¦æ‰±ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚</p>
<h2 id="q-formerã®æ§‹æˆ">Q-Formerã®æ§‹æˆ </h2>
<p>å‰å›ã®ãŠã•ã‚‰ã„ã‚’å…¼ã­ã¦ã€Q-Formerã®æ§‹æˆã‚’ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚</p>
<h3 id="1-å­¦ç¿’å¯èƒ½ãªã‚¯ã‚¨ãƒª-learnable-queries">1. å­¦ç¿’å¯èƒ½ãªã‚¯ã‚¨ãƒª (Learnable Queries) </h3>
<p>Q-Formerã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€å…¥åŠ›ã¨ã—ã¦ã€Œå›ºå®šã•ã‚ŒãŸ32å€‹ï¼ˆãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚Šæ•°ã¯ç•°ãªã‚‹ï¼‰ã®ç‰¹åˆ¥ãªãƒ™ã‚¯ãƒˆãƒ«ã€ã‚’æŒã¤ã“ã¨ã§ã™ã€‚</p>
<ul>
<li><strong>æŠ€è¡“ã®å½¹å‰²:</strong> ã“ã‚Œã‚‰ã¯æœ€åˆã¯ãƒ©ãƒ³ãƒ€ãƒ ãªå€¤ã§ã™ãŒã€å­¦ç¿’ãŒé€²ã‚€ã«ã¤ã‚Œã¦ã€Œç”»åƒã®å½¢ã«æ³¨ç›®ã›ã‚ˆã€ã€Œç”»åƒã®è‰²ã‚’æŠ½å‡ºã›ã‚ˆã€ã¨ã„ã£ãŸ <strong>ã€Œæƒ…å ±ã®æŠ½å‡ºãƒ«ãƒ¼ãƒ«ã€</strong> ã‚’å­¦ç¿’ã—ã¾ã™ã€‚</li>
<li><strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ç”»åƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã‹ã‚‰å‡ºåŠ›ã•ã‚Œã‚‹æ•°åƒå€‹ã®ãƒ‘ãƒƒãƒï¼ˆæ–­ç‰‡ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’ãã®ã¾ã¾LLMã«æŠ•ã’ã‚‹ã¨æƒ…å ±ãŒå¤šã™ãã¾ã™ãŒã€ã“ã®ã€Œã‚¯ã‚¨ãƒªã€ãŒé‡è¦ãªã‚¨ãƒƒã‚»ãƒ³ã‚¹ã ã‘ã‚’å¸ã„ä¸Šã’ã‚‹ã“ã¨ã§ã€æƒ…å ±ã®å¯†åº¦ã‚’é£›èºçš„ã«é«˜ã‚ã¾ã™ã€‚</li>
</ul>
<h3 id="2-ã‚¯ãƒ­ã‚¹ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³-cross-attention">2. ã‚¯ãƒ­ã‚¹ãƒ»ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ (Cross-Attention) </h3>
<p>ã‚¯ã‚¨ãƒªãŒç”»åƒæƒ…å ±ã‚’å®Ÿéš›ã«ã€Œå¸ã„ä¸Šã’ã‚‹ã€ãŸã‚ã®è¨ˆç®—ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§ã™ã€‚</p>
<ul>
<li><strong>æŠ€è¡“ã®ä»•çµ„ã¿:</strong> ã‚¯ã‚¨ãƒªã‚’ã€Œæ¤œç´¢æ¡ä»¶ï¼ˆQueryï¼‰ã€ã€ç”»åƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã®å‡ºåŠ›ã‚’ã€Œæ¤œç´¢å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆKey &amp; Valueï¼‰ã€ã¨ã—ã¦ç…§åˆã—ã¾ã™ã€‚</li>
<li><strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ã‚¨ãƒªãŒç”»åƒã®ä¸­ã®ã€Œã©ã“ã«æ³¨ç›®ã™ã¹ãã‹ã€ã‚’æŸ”è»Ÿã«æ±ºå®šã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒ†ã‚­ã‚¹ãƒˆã§ã€Œè‰²ã€ã«ã¤ã„ã¦å•ã‚ã‚Œã¦ã„ã‚Œã°ã€ç”»åƒå†…ã®è‰²ã«é–¢ã™ã‚‹ç‰¹å¾´ã«å¼·ã„é‡ã¿ï¼ˆã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ï¼‰ã‚’ç½®ãã“ã¨ãŒã§ãã¾ã™ã€‚</li>
</ul>
<h3 id="3-å¤šç›®çš„äºŒé‡ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼æ§‹é€ -dual-purpose-transformer">3. å¤šç›®çš„ãƒ»äºŒé‡ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼æ§‹é€  (Dual-purpose Transformer) </h3>
<p>Q-Formerã¯ã€å†…éƒ¨ã®ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³è¨ˆç®—ï¼ˆSelf-Attentionï¼‰ã«ãŠã„ã¦ã€ç”»åƒç”±æ¥ã®ã‚¯ã‚¨ãƒªã¨ã€ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚’<strong>åŒã˜å±¤ã§åŒæ™‚ã«å‡¦ç†</strong>ã§ãã‚‹æ§‹é€ ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><strong>æŠ€è¡“ã®ä»•çµ„ã¿:</strong> <strong>ã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ»ãƒã‚¹ã‚¯</strong>ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ã€1ã¤ã®ãƒ¢ãƒ‡ãƒ«ã§3ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’åŒæ™‚ã«å­¦ç¿’ã—ã¾ã™ã€‚</li>
</ul>
<ol>
<li><strong>ITC (Image-Text Contrastive Learning):</strong> ç”»åƒã¨ãƒ†ã‚­ã‚¹ãƒˆãŒä¼¼ã¦ã„ã‚‹ã‹åˆ¤å®šã€‚</li>
<li><strong>ITG (Image-grounded Text Generation):</strong> ç”»åƒã‚’è¦‹ã¦æ–‡å­—ã‚’æ›¸ãã€‚</li>
<li><strong>ITM (Image-Text Matching):</strong> ç”»åƒã¨ãƒ†ã‚­ã‚¹ãƒˆã®ãƒšã‚¢ãŒæ­£ã—ã„ã‹ç´°ã‹ããƒã‚§ãƒƒã‚¯ã€‚</li>
</ol>
<ul>
<li><strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ã€Œç”»åƒã€ã¨ã€Œè¨€èªã€ãŒå…¨ãåŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ã€ä¸¡è€…ã®æ¦‚å¿µçš„ãªå¢ƒç•ŒãŒæ¶ˆãˆã€LLMãŒç†è§£ã—ã‚„ã™ã„ã€Œè¨€èªã«è¿‘ã„ç”»åƒè¡¨ç¾ã€ãŒä½œã‚‰ã‚Œã¾ã™ã€‚</li>
</ul>
<h3 id="ãƒ¢ãƒ‡ãƒ«å‡¦ç†ã®ã‚¤ãƒ¡ãƒ¼ã‚¸">ãƒ¢ãƒ‡ãƒ«å‡¦ç†ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ </h3>
<p>çµµã§è¦‹ã¦ã¿ã‚‹ã¨å°šã€ã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚</p>
<img src="image/explanation/1768618244495.png" alt="Q-Former form" width="850" style="display: block; margin: 0 auto;">
<p>Q-Formerã¯å¤§ãã3ãƒ‘ãƒ¼ãƒˆã§æ§‹æˆã•ã‚Œã¾ã™ã€‚</p>
<ol>
<li>Query Token Embeddings</li>
<li>Self-Attention Block</li>
<li>Cross-Attention Block (to Vision Encoder)</li>
</ol>
<p><strong>1. Query Tokens</strong></p>
<p>çµµã®å³ä¸‹ã«ã‚ã‚‹"Learned Queries"ã®éƒ¨åˆ†ã§ã™ã€‚<br>
å‹•ä½œã®ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã§ã™ã€‚</p>
<ul>
<li>ä½ç½®ä¾å­˜ã§ã¯ãªã„</li>
<li>ç”»åƒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¾å­˜ã§æ›´æ–°</li>
<li>éãƒ†ã‚­ã‚¹ãƒˆã ãŒå¾Œæ®µã§LLMã«æ¸¡ã™å½¢ã«å°„å½±å¯èƒ½</li>
</ul>
<p>ã“ã®è¦ç´ ã«ã‚ˆã£ã¦ã€ç”»åƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã‚ˆã‚Šå–å¾—ã—ãŸè¦–è¦šæƒ…å ±ã‚ˆã‚Šã€é‡è¦ãªã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’æŠ½å‡ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ä¸€æ—¦ä»¥ä¸‹ã®ã‚ˆã†ã«Qã¨ç½®ãã¾ã™ã€‚</p>
<pre data-role="codeBlock" data-info="mathematica" class="language-mathematica mathematica"><code>Q <span class="token operator">=</span> <span class="token punctuation">{</span>q1<span class="token punctuation">,</span> q2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> qQ<span class="token punctuation">}</span>   with Q typically in <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">]</span>
</code></pre><p><strong>2. Self-Attention Block</strong></p>
<p>1ã§å…¥åŠ›ã•ã‚ŒãŸã‚¯ã‚¨ãƒªè‡ªèº«ãŒã‚¢ãƒ†ãƒ³ã‚·ãƒ§ãƒ³æ©Ÿæ§‹ã‚’é€šã—ã¦æƒ…å ±äº¤æ›ã•ã‚Œã¾ã™ã€‚</p>
<p>QãŒSelfAttnã«é€šã•ã‚Œã‚‹ã®ã§ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¾å‡ºæ¥ã¾ã™ã€‚</p>
<pre data-role="codeBlock" data-info="mathematica" class="language-mathematica mathematica"><code>Q' <span class="token operator">=</span> SelfAttn<span class="token punctuation">(</span>Q<span class="token punctuation">)</span>
</code></pre><p>ã“ã®å‡¦ç†ã§æƒ³å®šã•ã‚Œã‚‹åŠ¹æœã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚</p>
<ul>
<li>Queryé–“ã§å†—é•·æ€§é™¤å»</li>
<li>æ§˜ã€…ãªè¦–è¦šæ¦‚å¿µã‚’åˆ†æ‹…</li>
<li>å¾Œæ®µCross-Attentionã®æƒ…å ±è¦æ±‚ã‚’æ•´å½¢</li>
</ul>
<p><strong>3. Cross-Attention Block (to Vision Encoder)</strong></p>
<p>CrossAttentionã¯:</p>
<ul>
<li>Query: æƒ…å ±è¦æ±‚ï¼ˆä½•ã‚’è¦‹ã‚‹ã‹ï¼‰</li>
<li>Key/Value: ç”»åƒç‰¹å¾´ï¼ˆä½•ãŒå­˜åœ¨ã™ã‚‹ã‹ï¼‰</li>
</ul>
<p>ã¨ã„ã†å½¹å‰²åˆ†æ‹…ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>ViTã«å…¨ã¦ã®æƒ…å ±ä¿æŒã‚’å§”è­²ã—ã€Q-FormerãŒé¸æŠçš„ã«æŠ½å‡ºã™ã‚‹æ§‹å›³ã«ãªã‚Šã¾ã™ã€‚</p>
<pre data-role="codeBlock" data-info="mathematica" class="language-mathematica mathematica"><code>V <span class="token operator">=</span> VisionEncoder<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
K<span class="token punctuation">,</span> V <span class="token operator">=</span> proj<span class="token punctuation">(</span>V<span class="token punctuation">)</span>

Q'' <span class="token operator">=</span> CrossAttention<span class="token punctuation">(</span>Q'<span class="token punctuation">,</span> K<span class="token punctuation">,</span> V<span class="token punctuation">)</span>
</code></pre><p>ã“ã®ä¸€é€£ã®å‡¦ç†ã«ã‚ˆã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆã«æ¯”ã¹ã¦æƒ…å ±å¯†åº¦ãŒä½ã„ç”»åƒæƒ…å ±ã‚ˆã‚Šã€ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’æŠœãå‡ºã—ã¾ã™ã€‚</p>
<p>çµæœã€LLMã«ä¸è¦ãªä½ãƒ¬ãƒ™ãƒ«ã®è¦–è¦šæƒ…å ±ã§ã¯ãªãã€ç”»åƒã®æœ¬è³ªã¨ãªã‚‹æ„å‘³ã‚’å±Šã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p><strong>2ã¨3ã®è£œè¶³</strong></p>
<p>å®Ÿéš›ã«ã¯Self-Attentionã¨Cross-Attentionã¯äº¤äº’ã«ç©å±¤ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ã§ã™ã®ã§ã€å®Ÿéš›ã®ãƒ¢ãƒ‡ãƒ«ã¯ä»¥ä¸‹ã®å‡¦ç†ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<pre data-role="codeBlock" data-info="mathematica" class="language-mathematica mathematica"><code>for L in layers<span class="token punctuation">:</span>
    Q <span class="token operator">=</span> SelfAttention<span class="token punctuation">(</span>Q<span class="token punctuation">)</span>
    Q <span class="token operator">=</span> CrossAttention<span class="token punctuation">(</span>Q<span class="token punctuation">,</span> V<span class="token punctuation">)</span>
</code></pre><h3 id="ä¸€é€£ã®å‡¦ç†ã«ã‚ˆã‚‹çµæœ">ä¸€é€£ã®å‡¦ç†ã«ã‚ˆã‚‹çµæœ </h3>
<p>Q-FormerãŒç™»å ´ã™ã‚‹å‰ã¯ã€ç”»åƒã¨LLMã‚’å˜ç´”ã«ç·šå½¢å±¤ï¼ˆ1å±¤ã®ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆï¼‰ã§ç¹‹ãã ã‘ã®æ‰‹æ³•ãŒä¸»æµã§ã—ãŸã€‚ã—ã‹ã—ã€ãã‚Œã ã‘ã§ã¯æƒ…å ±ã®æ•´ç†ãŒä¸ååˆ†ã§ã—ãŸã€‚</p>
<p>Q-Formerã¯ã€ <strong>ã€Œãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’ä½¿ã£ã¦ã€ç”»åƒã‹ã‚‰è¨€èªçš„ãªæ„å‘³ã‚’æŠ½å‡ºã™ã‚‹ã€</strong> ã¨ã„ã†ãƒ—ãƒ­ã‚»ã‚¹ã‚’æŒŸã‚€ã“ã¨ã§ã€å·¨å¤§ãªLLMã‚’åŠ¹ç‡çš„ã€ã‹ã¤è³¢ãã€Œç›®ã€ã‚’æŒãŸã›ã‚‹ã“ã¨ã«ã¤ãªãŒã‚Šã¾ã—ãŸã€‚</p>
<h2 id="å®Ÿéš›ã®ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰">å®Ÿéš›ã®ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ </h2>
<p>å…ˆç¨‹èª¬æ˜ã—ãŸå‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’æ•´ç†ã™ã‚‹ã¨æ¬¡ã®é€šã‚Šã§ã™ã€‚</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>image
  â†“
Vision Encoder (ViT)
  â†“    (K,V)
Q (learnable)
  â†“
Q-Former (SelfAttn + CrossAttn stack)
  â†“
Projected tokens
  â†“
Flan-T5 (Decoder)
  â†“
Caption text
</code></pre><p>å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚’ä»¥ä¸‹ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã«ä¿å­˜ã—ã¾ã—ãŸã€‚</p>
<p><a href="https://github.com/Shinichi0713/LLM-fundamental-study/tree/main/vlm/src/q_former">q-former</a></p>
<p>ä½¿ã†LLMã¯T-Flanã€‚vision-encoderã¯ViTã‚’ç”¨ã„ã¾ã™ã€‚</p>
<p>å‹•ä½œã«ã‚ãŸã‚Šèª¬æ˜ã§ã™ã€‚</p>
<p><strong>1. é–¢ä¿‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>!pip install transformers accelerate timm einops
</code></pre><p><strong>2. q-former</strong></p>
<p>ãƒ¬ãƒã‚¸ãƒˆãƒªã®"<a href="http://q-former.py">q-former.py</a>"ã®å†…å®¹ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸‹ã•ã„ã€‚</p>
<p><strong>3. ãƒ¢ãƒ‡ãƒ«ã®æ§‹ç¯‰</strong></p>
<p>ãƒ¬ãƒã‚¸ãƒˆãƒªã®"<a href="http://model.py">model.py</a>"ã®å†…å®¹ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸‹ã•ã„ã€‚</p>
<p><strong>4. å‹•ä½œ</strong></p>
<p>ãƒ¬ãƒã‚¸ãƒˆãƒªã®"<a href="http://predict.py">predict.py</a>"ã®å†…å®¹ã‚’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸‹ã•ã„ã€‚</p>
<p>â€»predict.pyã®urlã¯é©åˆ‡ãªurlã«å¤‰æ›´ãã ã•ã„ã€‚</p>
<p>ä»Šå›ã¯ãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…ã®ä¸€é€£ã‚’ã—ã¾ã—ãŸã€‚<br>
q-formerã¯æœªã LLMã¨ViTã«åˆã‚ã›ãŸãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã—ã¦ã„ãªã„ã®ã§ã€ã‚ã¾ã‚Šè‰¯ã„å‡ºåŠ›ã¯ã€ç¾æ®µéšã§ã¯å¾—ã‚‰ã‚Œãªã„ã¯ãšã§ã™ã€‚</p>
<h2 id="q-formerã‚’æ¡ç”¨ã—ãŸæ‰‹æ³•">Q-Formerã‚’æ¡ç”¨ã—ãŸæ‰‹æ³• </h2>
<p>è£œè¶³æƒ…å ±ã¨ã—ã¦Q-Formerã‚’æ¡ç”¨ã—ãŸVLMã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>
<p>Q-Formerã¯ã€2023å¹´ã«SalesforceãŒç™ºè¡¨ã—ãŸ<strong>BLIP-2</strong>ã§åˆã‚ã¦å°å…¥ã•ã‚Œã€ãã®åœ§å€’çš„ãªåŠ¹ç‡ã®è‰¯ã•ã‹ã‚‰ã€ãã®å¾Œå¤šãã®æœ‰åãªãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¢ãƒ‡ãƒ«ï¼ˆVLMï¼‰ã«æ¡ç”¨ã•ã‚Œã¾ã—ãŸã€‚</p>
<p>ä»£è¡¨çš„ãªãƒ¢ãƒ‡ãƒ«ã¨ãã®ç‰¹å¾´ã‚’æ•´ç†ã—ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>
<h3 id="1-blip-2-the-pioneer">1. BLIP-2 (The Pioneer) </h3>
<p>Q-Formerã‚’ä¸–ã«çŸ¥ã‚‰ã—ã‚ãŸæœ€åˆã®ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚</p>
<ul>
<li><strong>ç‰¹å¾´:</strong> å·¨å¤§ãªLLMï¼ˆOPTã‚„Flan-T5ï¼‰ã¨ã€ç”»åƒã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ï¼ˆCLIP ViTï¼‰ã‚’Q-Formerã ã‘ã§æ¥ç¶šã—ã¾ã—ãŸã€‚</li>
<li><strong>å½¹å‰²:</strong> LLMã‚’å®Œå…¨ã«å›ºå®šï¼ˆãƒ•ãƒªãƒ¼ã‚ºï¼‰ã—ãŸã¾ã¾ã€Q-Formerã ã‘ã‚’å­¦ç¿’ã•ã›ã‚‹ã“ã¨ã§ã€å½“æ™‚ä¸–ç•Œæœ€é«˜æ°´æº–ã®æ€§èƒ½ã‚’æ¥µã‚ã¦ä½ã„è¨ˆç®—ã‚³ã‚¹ãƒˆã§å®Ÿç¾ã—ã¾ã—ãŸã€‚</li>
</ul>
<h3 id="2-instructblip">2. InstructBLIP </h3>
<p>BLIP-2ã‚’ã•ã‚‰ã«é€²åŒ–ã•ã›ã€ã€ŒæŒ‡ç¤ºï¼ˆå‘½ä»¤ï¼‰ã€ã«å¾“ã†èƒ½åŠ›ã‚’é«˜ã‚ãŸãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚</p>
<ul>
<li><strong>ç‰¹å¾´:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ã€ŒæŒ‡ç¤ºãƒ†ã‚­ã‚¹ãƒˆã€ã‚’Q-Formerã®ã‚¯ã‚¨ãƒªã¨ä¸€ç·’ã«å…¥åŠ›ã—ã¾ã™ã€‚</li>
<li><strong>å½¹å‰²:</strong> æŒ‡ç¤ºã®å†…å®¹ã«å¿œã˜ã¦ã€Q-FormerãŒç”»åƒã‹ã‚‰æŠ½å‡ºã™ã‚‹æƒ…å ±ã‚’å‹•çš„ã«å¤‰ãˆã¾ã™ï¼ˆä¾‹ï¼šã€Œè‰²ã«ã¤ã„ã¦æ•™ãˆã¦ã€ã¨è¨€ã‚ã‚ŒãŸã‚‰ã€è‰²ã®æƒ…å ±ã‚’é‡ç‚¹çš„ã«æŠ½å‡ºã™ã‚‹ï¼‰ã€‚</li>
<li><strong>ç”¨é€”:</strong> é«˜åº¦ãªç”»åƒå¯¾è©±ã€æ¨è«–ã€‚</li>
</ul>
<h3 id="3-minigpt-4">3. MiniGPT-4 </h3>
<p>Vicunaã¨ã„ã†LLMã¨BLIP-2ã®ãƒ“ã‚¸ãƒ§ãƒ³éƒ¨åˆ†ã‚’çµ„ã¿åˆã‚ã›ãŸã€åˆæœŸã®å¯¾è©±å‹ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«AIã®ä»£è¡¨æ ¼ã§ã™ã€‚</p>
<ul>
<li><strong>ç‰¹å¾´:</strong> BLIP-2ã®Q-Formerã¨ã€å¼·åŠ›ãªã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹LLMã‚’çµ±åˆã—ã¾ã—ãŸã€‚</li>
<li><strong>ç”¨é€”:</strong> ç”»åƒã«åŸºã¥ã„ãŸè©©ã®ä½œæˆã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãªã©ã€‚</li>
</ul>
<h3 id="4-video-llava--video-chatgpt-å‹•ç”»å¯¾å¿œãƒ¢ãƒ‡ãƒ«">4. Video-LLaVA / Video-ChatGPT (å‹•ç”»å¯¾å¿œãƒ¢ãƒ‡ãƒ«) </h3>
<p>é™æ­¢ç”»ã ã‘ã§ãªãã€**å‹•ç”»ï¼ˆãƒ“ãƒ‡ã‚ªï¼‰**ã‚’ç†è§£ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã«ã‚‚Q-Formerï¼ˆã¾ãŸã¯ãã®æ´¾ç”ŸæŠ€è¡“ï¼‰ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><strong>ç‰¹å¾´:</strong> å‹•ç”»ã¯ãƒ•ãƒ¬ãƒ¼ãƒ æ•°ãŒå¤šã„ãŸã‚ã€æƒ…å ±é‡ãŒè†¨å¤§ã«ãªã‚Šã¾ã™ã€‚</li>
<li><strong>å½¹å‰²:</strong> Q-FormerãŒè¤‡æ•°ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã«ã¾ãŸãŒã‚‹æƒ…å ±ã‚’ã€Œæ•°ãƒˆãƒ¼ã‚¯ãƒ³ã€ã«å‡ç¸®ã™ã‚‹ã“ã¨ã§ã€LLMãŒé•·ã„å‹•ç”»ã®æ–‡è„ˆã‚’å‡¦ç†ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>
</ul>
<h3 id="5-å„ç¨®ãƒ‰ãƒ¡ã‚¤ãƒ³ç‰¹åŒ–ãƒ¢ãƒ‡ãƒ«-åŒ»ç™‚ç§‘å­¦">5. å„ç¨®ãƒ‰ãƒ¡ã‚¤ãƒ³ç‰¹åŒ–ãƒ¢ãƒ‡ãƒ« (åŒ»ç™‚ãƒ»ç§‘å­¦) </h3>
<p>ç‰¹å®šã®å°‚é–€åˆ†é‡å‘ã‘ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã§ã‚‚æ¡ç”¨ä¾‹ãŒå¤šã„ã§ã™ã€‚</p>
<ul>
<li><strong>ä¾‹:</strong> <strong>Med-BLIP</strong>ï¼ˆåŒ»ç™‚ç”»åƒè¨ºæ–­è£œåŠ©ï¼‰ãªã©ã€‚</li>
<li><strong>ç†ç”±:</strong> å°‚é–€çš„ãªç”»åƒï¼ˆãƒ¬ãƒ³ãƒˆã‚²ãƒ³ç­‰ï¼‰ã‹ã‚‰ã€è¨ºæ–­ã«å¿…è¦ãªã€Œè¨€èªåŒ–ã™ã¹ãç‰¹å¾´ã€ã ã‘ã‚’æŠ½å‡ºã™ã‚‹ã®ã«ã€Q-Formerã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°èƒ½åŠ›ãŒéå¸¸ã«é©ã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚</li>
</ul>
<h3 id="ãªãœã“ã‚Œã»ã©å¤šãã®ãƒ¢ãƒ‡ãƒ«ã§ä½¿ã‚ã‚Œã‚‹ã®ã‹æ¡ç”¨ã®æ±ºã‚æ‰‹">ãªãœã“ã‚Œã»ã©å¤šãã®ãƒ¢ãƒ‡ãƒ«ã§ä½¿ã‚ã‚Œã‚‹ã®ã‹ï¼Ÿï¼ˆæ¡ç”¨ã®æ±ºã‚æ‰‹ï¼‰ </h3>
<p>å¤šãã®ç ”ç©¶è€…ãŒQ-Formerã‚’æ¡ç”¨ã™ã‚‹ç†ç”±ã¯ã€ä¸€è¨€ã§è¨€ãˆã° <strong>ã€Œã‚³ã‚¹ãƒ‘ã¨ç²¾åº¦ã®ãƒãƒ©ãƒ³ã‚¹ã€</strong> ã§ã™ã€‚</p>
<table>
<thead>
<tr>
<th>ç†ç”±</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æƒ…å ±ã®é›†ç´„åŠ›</strong></td>
<td>ã©ã‚“ãªã«æƒ…å ±é‡ãŒå¤šã„ç”»åƒ/å‹•ç”»ã§ã‚‚ã€å›ºå®šæ•°ï¼ˆ32å€‹ãªã©ï¼‰ã®ãƒˆãƒ¼ã‚¯ãƒ³ã«åœ§ç¸®ã§ãã‚‹ã€‚</td>
</tr>
<tr>
<td><strong>å­¦ç¿’ã®è»½ã•</strong></td>
<td>æ•°åå„„ã€æ•°åƒå„„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®LLMã‚’ã„ã˜ã‚‹å¿…è¦ãŒãªãã€Q-Formerï¼ˆç´„1.8å„„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã ã‘ã‚’è¨“ç·´ã™ã‚Œã°è‰¯ã„ã€‚</td>
</tr>
<tr>
<td><strong>ãƒ—ãƒ©ã‚°ã‚¤ãƒ³çš„æ€§è³ª</strong></td>
<td>ãŠæ°—ã«å…¥ã‚Šã®ã€Œæœ€å¼·ã®ç›®ï¼ˆViTï¼‰ã€ã¨ã€Œæœ€å¼·ã®è„³ï¼ˆLlama 3ç­‰ï¼‰ã€ã‚’å¾Œä»˜ã‘ã§åˆä½“ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</td>
</tr>
</tbody>
</table>
<h2 id="çµè«–">çµè«– </h2>
<p>ä»Šå›ã¯VLMã§åŠ¹æœçš„ã«è¦–è¦šæƒ…å ±ã‚’LLMã«æ¸¡ã™æ‰‹æ³•ã§ã‚ã‚‹Q-Formerã‚’æ‰±ã„ã¾ã—ãŸã€‚<br>
ã“ã®æ‰‹æ³•ã®è‰¯ã„ç‚¹ã¯LLMã«ã¯ä¸€åˆ‡æ‰‹ã‚’ä»˜ã‘ãšã€ã‹ã¤ã€LLMã«åˆã‚ã›ãŸè¦–è¦šæƒ…å ±ã®æŠ½å‡ºã‚’å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã«ã‚ã‚Šã¾ã™ã€‚</p>
<p>ã¾ãŸã€å¾—ã‚‰ã‚Œã‚‹è¦–è¦šæƒ…å ±ã‚‚ã€å˜ç´”ãªå…¨çµåˆã§ã¯å¾—ã‚‰ã‚Œãªã„ã‚ˆã†ãªæ£æ„ã‚’æŒã£ãŸã‚‚ã®ã¨ãªã‚‹ãŸã‚ã€ã‚ˆã‚Šã€LLMã®æ€§èƒ½ã‚’å¼•ãå‡ºã™ã“ã¨ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚</p>
<p>å®Ÿè£…ã«ã‚ãŸã‚Šç–‘å•ã‚ã‚Œã°ã€ã‚³ãƒ¡ãƒ³ãƒˆé ‚ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚</p>

      </div>
      
      
    
    

<h2>æœ€å¾Œã«</h2>
<p>è¨˜äº‹ã‚’æœ€å¾Œã¾ã§èª­ã‚“ã§ãã ã•ã£ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚<br />è¨˜äº‹ã®å†…å®¹ã‚’èª­ã‚“ã§é ‘å¼µã‚Œã¨æ€ã£ã¦ã„ãŸã ã„ãŸèª­è€…æ§˜ã€æ˜¯éã€èª­è€…ã«ãªã£ã¦ä»Šå¾Œã‚‚å¿œæ´ã—ã¦ãã ã•ã„ã€‚</p>
<iframe src="https://blog.hatena.ne.jp/yoshishinnze/yoshishinnze.hatenablog.com/subscribe/iframe" allowtransparency="true" frameborder="0" scrolling="no" width="150" height="28"></iframe>


<script>
const toc = document.getElementById('toc');
// h2 ã¨ h3 ã®ä¸¡æ–¹ã‚’å–å¾—
const headings = document.querySelectorAll('h2, h3');

headings.forEach((heading, i) => {
    if (!heading.id) heading.id = `heading-${i}`;
    
    const li = document.createElement('li');
    const link = document.createElement('a');
    link.href = `#${heading.id}`;
    link.textContent = heading.textContent;
    
    // h3 ã®å ´åˆã¯ã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸ã—ã¦å­—ä¸‹ã’ã™ã‚‹
    if (heading.tagName === 'H3') {
        li.classList.add('toc-h3');
    }
    
    li.appendChild(link);
    toc.appendChild(li);
});

// ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ‰åŠ¹ã«ã™ã‚‹
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
</script>



<h2>æœ€å¾Œã«</h2>
<p>è¨˜äº‹ã‚’æœ€å¾Œã¾ã§èª­ã‚“ã§ãã ã•ã£ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚<br />è¨˜äº‹ã®å†…å®¹ã‚’èª­ã‚“ã§é ‘å¼µã‚Œã¨æ€ã£ã¦ã„ãŸã ã„ãŸèª­è€…æ§˜ã€æ˜¯éã€èª­è€…ã«ãªã£ã¦ä»Šå¾Œã‚‚å¿œæ´ã—ã¦ãã ã•ã„ã€‚</p>
<iframe src="https://blog.hatena.ne.jp/yoshishinnze/yoshishinnze.hatenablog.com/subscribe/iframe" allowtransparency="true" frameborder="0" scrolling="no" width="150" height="28"></iframe>


<script>
const toc = document.getElementById('toc');
// h2 ã¨ h3 ã®ä¸¡æ–¹ã‚’å–å¾—
const headings = document.querySelectorAll('h2, h3');

headings.forEach((heading, i) => {
    if (!heading.id) heading.id = `heading-${i}`;
    
    const li = document.createElement('li');
    const link = document.createElement('a');
    link.href = `#${heading.id}`;
    link.textContent = heading.textContent;
    
    // h3 ã®å ´åˆã¯ã‚¯ãƒ©ã‚¹ã‚’ä»˜ä¸ã—ã¦å­—ä¸‹ã’ã™ã‚‹
    if (heading.tagName === 'H3') {
        li.classList.add('toc-h3');
    }
    
    li.appendChild(link);
    toc.appendChild(li);
});

// ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ‰åŠ¹ã«ã™ã‚‹
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
</script>


    
  
    </body></html>