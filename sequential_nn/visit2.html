<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>その時歴史が動いた - Ending Theme</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #1a1a1a;
            color: #d4af37;
            font-family: "Sawarabi Mincho", serif;
            text-align: center;
        }

        .container {
            border: 2px solid #d4af37;
            padding: 50px;
            background: linear-gradient(145deg, #2a2a2a, #111);
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h1 {
            font-size: 2em;
            letter-spacing: 0.3em;
            margin-bottom: 30px;
        }

        #play-button {
            padding: 15px 40px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: transparent;
            color: #d4af37;
            border: 1px solid #d4af37;
            transition: all 0.4s;
        }

        #play-button:hover {
            background-color: #d4af37;
            color: black;
        }

        /* プレイヤーを「見えないが存在する」状態にするための設定 */
        #player-wrapper {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 1px;
            height: 1px;
            overflow: hidden;
            opacity: 0.1;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>その時歴史が動いた</h1>
        <p>〜エンディング・テーマ〜</p>
        <br>
        <button id="play-button">再生を開始する</button>
        <p id="msg" style="margin-top:20px; font-size: 0.8em; color: #888;"></p>
    </div>

    <div id="player-wrapper">
        <div id="player"></div>
    </div>

    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '200', // サイズを0にせず、親のdivで隠す
                width: '200',
                videoId: 'No0M3q0mxD4',
                playerVars: {
                    'playsinline': 1,
                    'autoplay': 0,
                    'mute': 0
                },
                host: 'https://www.youtube-nocookie.com',
                events: {
                    'onReady': onPlayerReady,
                    'onError': onError
                }
            });
        }
        function onPlayerReady(event) {
            player.getIframe().setAttribute('allow', 'autoplay');

            document.getElementById('play-button').addEventListener('click', function() {
                player.playVideo();
            });
        }


        function onError(e) {
            document.getElementById('msg').innerText = "エラーが発生しました。ページを更新してください。";
        }
    </script>

</body>
</html>